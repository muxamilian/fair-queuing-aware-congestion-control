\input{fq_common_beginning.tex}

%\draw[draw,decorate,decoration={brace, mirror}] (2.5,0) -- ++(0.0,1) node [midway,right,align=left,font=\fontsize{3pt}{0}\selectfont] {buffer\\ size};
%
%\draw[dashed] (0,0) -- ++(2.5,0);
%\node[align=center,font=\fontsize{3pt}{0}\selectfont,inner sep=0mm] at (1.95,-0.25) (optimal) {optimal minimum\\ window (BDP)};
%\draw[->, line width=0.05mm] (optimal) -- ++(0,0.25);

\node at (\barwidth /2, \barheight /2) [inner sep=0,fill=color2,rectangle,minimum width=\barwidth cm,minimum height=\barheight cm] {};
\node at (\barwidth /2, 2*\barheight) [inner sep=0,fill=color1,rectangle,minimum width=\barwidth cm,minimum height=2*\barheight cm] {};

\node at (\barwidth /2 + \barwidth, \barheight) [inner sep=0,fill=color2,rectangle,minimum width=\barwidth cm,minimum height=2*
\barheight cm] {};
\node at (\barwidth /2 + \barwidth, 4*\barheight) [inner sep=0,fill=color1,rectangle,minimum width=\barwidth cm,minimum height=4*\barheight cm] {};

\node at (\barwidth /2 + 2*\barwidth, 0.3) [inner sep=0,fill=color2,rectangle,minimum width=\barwidth cm,minimum height=0.6cm] {};
\node at (\barwidth /2 + 2*\barwidth, 0.9) [inner sep=0,fill=color1,rectangle,minimum width=\barwidth cm,minimum height=0.6cm] {};

\draw[dashed] (0,1.2) -- ++(1.8,0);
\node[align=center,font=\fontsize{2.75pt}{0}\selectfont,inner sep=0mm] at (0.375, 1.35) (maximum) {link speed};
\draw[->, line width=0.05mm] (maximum) -- (0.375,1.2);

\node[anchor=north west, align=center,font=\fontsize{3pt}{0}\selectfont,inner sep=0mm] at (0.01, 2.3) (rate) {receiving rate};

\input{fq_common_end.tex}
